{% extends "layouts/base.html" %}

{% block title %}Registro - Sistema de Diagnóstico Médico{% endblock %}

{% block content %}
  <div class="container">
    <div class="card">
      <div class="card-header">
        <h1 class="card-title">Crear Cuenta</h1>
        <p class="card-description">Completa el formulario para registrarte en el sistema</p>
      </div>
      
      <form method="POST" action="{{ url_for('Autenticacion.register') }}">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
          {{ form.id_profesional.label(class="form-label") }}
          {% if form.id_profesional.errors %}
            {{ form.id_profesional(class="form-control is-invalid", placeholder="Ingresa tu Rut") }}
            <div class="invalid-feedback">
              {% for error in form.id_profesional.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.id_profesional(class="form-control", placeholder="Ingresa tu Rut") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.correo_electronico.label(class="form-label") }}
          {% if form.correo_electronico.errors %}
            {{ form.correo_electronico(class="form-control is-invalid", placeholder="tu@email.com") }}
            <div class="invalid-feedback">
              {% for error in form.correo_electronico.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.correo_electronico(class="form-control", placeholder="tu@email.com") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.nombre.label(class="form-label") }}
          {% if form.nombre.errors %}
            {{ form.nombre(class="form-control is-invalid", placeholder="Ingresa tu nombre") }}
            <div class="invalid-feedback">
              {% for error in form.nombre.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.nombre(class="form-control", placeholder="Ingresa tu nombre") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.app_paterno.label(class="form-label") }}
          {% if form.app_paterno.errors %}
            {{ form.app_paterno(class="form-control is-invalid", placeholder="Ingresa tu apellido paterno") }}
            <div class="invalid-feedback">
              {% for error in form.app_paterno.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.app_paterno(class="form-control", placeholder="Ingresa tu apellido paterno") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.app_materno.label(class="form-label") }}
          {% if form.app_materno.errors %}
            {{ form.app_materno(class="form-control is-invalid", placeholder="Ingresa tu apellido materno") }}
            <div class="invalid-feedback">
              {% for error in form.app_materno.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.app_materno(class="form-control", placeholder="Ingresa tu apellido materno") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.especialidad.label(class="form-label") }}
          {% if form.especialidad.errors %}
            {{ form.especialidad(class="form-control is-invalid", placeholder="Ingresa tu especialidad") }}
            <div class="invalid-feedback">
              {% for error in form.especialidad.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.especialidad(class="form-control", placeholder="Ingresa tu especialidad") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.edad.label(class="form-label") }}
          {% if form.edad.errors %}
            {{ form.edad(class="form-control is-invalid", placeholder="Ingresa tu edad") }}
            <div class="invalid-feedback">
              {% for error in form.edad.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.edad(class="form-control", placeholder="Ingresa tu edad") }}
          {% endif %}
        </div>

        <div class="form-group">
          {{ form.password.label(class="form-label") }}
          {% if form.password.errors %}
            {{ form.password(class="form-control is-invalid", placeholder="••••••••") }}
            <div class="invalid-feedback">
              {% for error in form.password.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.password(class="form-control", placeholder="••••••••") }}
          {% endif %}
        </div>
        
        <div class="form-group">
          {{ form.confirm_password.label(class="form-label") }}
          {{ form.confirm_password(class="form-control", placeholder="••••••••") }}
        </div>
        
        {{ form.submit(class="btn btn-primary btn-block") }}
      </form>
      
      <p class="mt-3 text-center">
        ¿Ya tienes una cuenta? 
        <a href="{{ url_for('Autenticacion.login') }}" class="text-link">Inicia sesión aquí</a>
      </p>
    </div>
  </div>
{% endblock %}